# seekaud

This is a newer addition to the test set, which measures the difference between
the time taken to seek to a location on an audio track (and confirm back to the
calling function), and the actual *playback* of the sound at that point.

This does not need any specialized test equipmnet, but it will require:
  a) Connection back to a computer for capture of audio output
  b) Audacity or some other audio editing program to view the actual waveform
  c) A large audio file with no gaps (for example, generated by Audacity).

Notes:
------
This program is a quick modification of the seektest2 program, and built on
a more current version of HuC, roughly version 3.99 .  (For this reason, it
must be compiled with the '-ADEPRECATED=1' option).

You will need a sound file called "sound.wav" with a generated tone - for example,
Audacity can create a 5KHz sine wave rather easily.  This file should cover the
full original 650MB size; I used a file of 1 hour + 13 minutes + 3 seconds.  Once
this is available, the disc can be burned with a utility such as ImgBurn.  I did
not include this file in the GitHub repository as it was too large to be saved,
and in any case it is easily reproduced.

When using the progam, keep in mind that low offsets (below, say, about 15 seconds) will
actually point into the data track and may not be effective.

When run, the user will choose a starting location, and an offset (plus a
seek direction if needed).  The program will generate a mid-range tone (roughly 1.5KHz)
when the head reaches its initial position, then a higher-pitched tone (roughly 3.0KHz)
when the seek to the new destination is reached; the audio file will begin shortly
thereafter (roughly 200ms later).  Until recently, this had been assumed to start
immediately.

You should record the sound output into a tool like Audacity, so that the waveforms
can be viewed; the period of time where the 1.5KHz tone is played will represent the
head seek period from starting location to ending location, and will be clearly
delineated from the 3.0KHz tone period.

The 3.0KHzi-only tone period represents the audio delay between program acknowledgement
of head seek completion and actual audio playback.  After that point, the 3.0KHz tone
and the audio playback from the disc will be mixed, which will also be a clear marker.
For this reason, it is important to ensure the file has no audio gaps, as this could
throw off the timing measurement.

My own measurements found:
- minimum audio delay = 130ms
- maximum audio delay = 290ms
- average audio delay = 210ms (80% of measurements were between 180ms and 240ms)

While the head seek delay depended on both distance travelled and location on
disc, the audio delay did not seem to be correclated with either of these, with
the variation among measurements appearing to be random in nature.



Use this information and software at your own risk.
